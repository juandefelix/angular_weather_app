<!DOCTYPE html>  
<html lang="en">  
    <head>
         <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.js" type="text/javascript"></script>
         <script src="https://www.google.com/jsapi" type="text/javascript"></script>
         <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
         <!-- // <script src="main.js" type="text/javascript"></script> -->
         <!-- // <script src="ngGoogleCharts.js" type="text/javascript"></script> -->
         <style type="text/css">
             .bigGraph {width:500px;height:500px;float:left;}
             .mediumGraph {width:400px;height:400px;float:left;}
             .smallGraph {width:200px;height:200px;float:left;}
         </style>
    </head>
    <body ng-controller="IndexCtrl">
        <div google-chart="PieChart" ng-model="data" class="bigGraph"></div>

        <script>
        "use strict";

/*We need to manually start angular as we need to
wait for the google charting libs to be ready*/  
google.setOnLoadCallback(function () {  
    angular.bootstrap(document.body, ['my-app']);
});
google.load('visualization', '1', {packages: ['corechart']});


var myApp = myApp || angular.module("my-app",["google-chart"]);

myApp.controller("IndexCtrl",function($scope){  
    $scope.data = {};
    var geocoder = new google.maps.Geocoder();

    // geocoder.geocode( {'address': $scope.address }, function(result, status) {
      // var lat = result[0].geometry.location.lat();
      // var lng = result[0].geometry.location.lng();
      // var queryString = 'https://api.forecast.io/forecast/ad95313ec184d7114f912029b416fb5b/' + lat + ',' + lng + "?callback=JSON_CALLBACK";
        
      // $http.jsonp(queryString).
        // success(function(results) {
            $scope.data.dataTable = new google.visualization.DataTable();
            $scope.data.dataTable.addColumn("string","Name")
            $scope.data.dataTable.addColumn("number","Qty")
            $scope.data.dataTable.addRow(["Test",1]);
            $scope.data.dataTable.addRow(["Test2",2]);
            $scope.data.dataTable.addRow(["Test3",3]);
            $scope.data.title="My Pie"
        // };
    // })
});

//======================================

"use strict";

var googleChart = googleChart || angular.module("google-chart",[]);

googleChart.directive("googleChart",function(){  
    return{
        restrict : "A",
        link: function($scope, $elem, $attr){
            var dt = $scope[$attr.ngModel].dataTable;

            var options = {};
            if($scope[$attr.ngModel].title)
                options.title = $scope[$attr.ngModel].title;

            var googleChart = new google.visualization[$attr.googleChart]($elem[0]);
            googleChart.draw(dt,options)
        }
    }
});
        </script>
    </body>
</html>  